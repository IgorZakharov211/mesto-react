{"version":3,"sources":["contexts/CurrentUserContext.js","images/header-logo.svg","components/header/Header.js","components/card/Card.js","components/main/Main.js","components/footer/Footer.js","components/popup_with_form/PopupWithForm.js","components/edit_profile_popup/EditProfilePopup.js","components/edit_avatar_popup/EditAvatarPopup.js","components/image_popup/ImagePopup.js","utils/utils.js","utils/api.js","components/add_place_popup/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","className","src","headerLogo","alt","Card","props","currentUser","useContext","isOwn","owner","_id","id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","onCardClick","type","onDeleteCard","card","key","likeCount","length","onCardLike","Main","href","onEditAvatar","avatar","aria-label","onEditProfile","about","onAddPlace","cards","map","handleCardClick","onCardDelete","Footer","PopupWithForm","popupOpened","isOpen","onClose","action","method","noValidate","onSubmit","title","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","ImagePopup","apiOptions","baseUrl","headers","authorization","api","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_checkRes","body","JSON","stringify","url","AddPlacePopup","setTitle","setLink","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isCardPopupOpen","setCardPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","changeLike","newCard","newCards","c","closeAllPopups","getInitialCards","data","item","catch","err","console","log","getMyInfo","Provider","deleteLike","putLike","deleteCard","cardsFilter","filter","patchMyInfo","postCard","patchMyAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.13cf47f5.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import React from 'react';\r\nimport headerLogo from '../../images/header-logo.svg';\r\n\r\nfunction Header(){\r\n  return(\r\n    <header className=\"header page__header\">\r\n      <img src={headerLogo} alt=\"Логотип\" className=\"header__logo\" />\r\n    </header>\r\n  )\r\n}\r\n\r\n\r\nexport default Header;","import React from 'react';\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card(props){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.owner._id === currentUser.id;\r\n  const cardDeleteButtonClassName = (\r\n  `element__remove ${isOwn ? '' : 'element__remove_disabled'}`); \r\n  const isLiked = props.likes.some(i => i._id === currentUser.id);\r\n  const cardLikeButtonClassName = (`element__like ${isLiked ? 'element__like_active' : ''}`)\r\n\r\n  function handleClick() {\r\n    props.onCardClick({name: props.name, link: props.link});\r\n  } \r\n\r\n  function handleCardLike(){\r\n    const card = {\r\n      key: props.id,\r\n      id: props.id,\r\n      name: props.name,\r\n      link: props.link,\r\n      likes: props.likes,\r\n      owner: props.owner,\r\n      likeCount: props.likes.length}\r\n    props.onCardLike({card});\r\n  }\r\n\r\n  function handleDeleteCard(){\r\n    props.onDeleteCard(props.id);\r\n  }\r\n\r\n  return(\r\n    <div className=\"element\">\r\n      <a className=\"element__link\">\r\n        <img src={props.link} alt={props.name} className=\"element__image\" onClick={handleClick}/>\r\n      </a>\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteCard}></button>\r\n      <div className=\"element__info\">\r\n        <h2 className=\"element__title\">{props.name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleCardLike}></button>\r\n          <p className=\"element__like-count\">{props.likeCount}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card;","import {CurrentUserContext} from '../../contexts/CurrentUserContext';\r\nimport React from 'react';\r\nimport Card from '../card/Card';\r\n\r\n\r\nfunction Main(props){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n  return(\r\n    <main className=\"content\">\r\n      <section className=\"profile content__profile\">\r\n        <div className=\"profile__avatar\">\r\n          <a className=\"profile__avatar-edit\" href=\"#\" onClick={props.onEditAvatar}></a>\r\n          <img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__image\" />\r\n        </div>\r\n    \t<div className=\"profile__text\">\r\n    \t  <div className=\"profile__name\">\r\n    \t    <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <button \r\n          className=\"profile__edit-button\" \r\n          type=\"button\" \r\n          aria-label=\"Редактировать\" \r\n          onClick={props.onEditProfile}>\r\n          </button>\r\n    \t  </div>\r\n    \t  <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n    \t</div>\r\n    \t<button className=\"profile__add-button\" type=\"button\" aria-label=\"Добавить\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section className=\"elements content__elements\">\r\n        {\r\n         props.cards.map(({id, name, link, likes, owner, likeCount})=>{\r\n           return <Card key={id} id={id} name={name} link={link} likes={likes} owner={owner} likeCount={likeCount} onCardClick={props.handleCardClick} onCardLike={props.onCardLike} onDeleteCard={props.onCardDelete}/>\r\n         })\r\n        }\r\n      \r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer(){\r\n  return(\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props){\r\n    const popupOpened = props.isOpen ? 'popup_opened' : '';\r\n    \r\n    return (\r\n        <div className={`popup ${popupOpened}`} id={`popup-${props.name}`}>\r\n          <div className=\"popup__container\">\r\n            <button \r\n            className=\"popup__button-close\" \r\n            type=\"button\" \r\n            aria-label=\"Закрыть\" \r\n            onClick={props.onClose}>\r\n            </button>\r\n            <form className=\"popup__form\" action=\"#\" method=\"POST\" name={props.name} noValidate onSubmit={props.onSubmit}>\r\n              <fieldset className=\"popup__fieldset\">\r\n                <h2 className=\"popup__heading\">{props.title}</h2>\r\n                {props.children}\r\n              </fieldset>\r\n            </form>\r\n          </div>\r\n      </div>\r\n    )\r\n}\r\n\r\n  \r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from '../popup_with_form/PopupWithForm';\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext';\r\n\r\n\r\n\r\nfunction EditProfilePopup(props){\r\n  const [name, setName] = React.useState('Имя');\r\n  const [description, setDescription] = React.useState('Профессия');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  function handleNameChange(e){\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e){\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n  return(\r\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n        <label className=\"popup__field\">\r\n          <input \r\n          type=\"text\" \r\n          className=\"popup__input\" \r\n          placeholder=\"Имя\" \r\n          name=\"name\" \r\n          required \r\n          id=\"name-input\" \r\n          minLength=\"2\" \r\n          maxLength=\"40\" \r\n          value={name}\r\n          onChange={handleNameChange}\r\n          />\r\n          <span className=\"popup__input-error\" id=\"name-input-error\"></span> \r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input \r\n          type=\"text\" \r\n          className=\"popup__input\" \r\n          placeholder=\"Занятие\" \r\n          name=\"job\" \r\n          required \r\n          id=\"job-input\" \r\n          minLength=\"2\" \r\n          maxLength=\"200\"\r\n          value={description}\r\n          onChange={handleDescriptionChange}\r\n          />\r\n          <span className=\"popup__input-error\" id=\"job-input-error\"></span> \r\n        </label>\r\n        <button className=\"popup__button-save\" type=\"submit\">Сохранить</button>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from '../popup_with_form/PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props){\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  } \r\n\r\n  return (\r\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n        <label className=\"popup__field\">\r\n          <input \r\n          type=\"url\" \r\n          className=\"popup__input\" \r\n          placeholder=\"Ссылка на изображение\" \r\n          name=\"url\" \r\n          required \r\n          id=\"url-inputAvatar\"\r\n          ref={avatarRef} \r\n          />\r\n          <span className=\"popup__input-error\" id=\"url-inputAvatar-error\"></span>\r\n        </label>\r\n        <button className=\"popup__button-save\" type=\"submit\">Сохранить</button>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props){\r\n    const popupOpened = props.isOpen ? 'popup_opened' : '';\r\n\r\n    return(\r\n      <div className={`popup ${popupOpened}`} id={`popup-${props.name}`}>\r\n        <div className=\"popup__container\">\r\n          <button \r\n          className=\"popup__button-close\" \r\n          type=\"button\" \r\n          aria-label=\"Закрыть\" \r\n          onClick={props.onClose}>\r\n          </button>\r\n          <img src={props.card.link} alt={props.card.name} className=\"popup__pic\" />\r\n          <p className=\"popup__subtitle\">{props.card.name}</p>\r\n        </div>  \r\n      </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","const apiOptions = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\r\n  headers: {\r\n    authorization: '6e729665-1bba-493d-86aa-08890e5fc87f',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\n\r\nexport default apiOptions;\r\n\r\n","import apiOptions from './utils';\r\n\r\nclass Api{\r\n  constructor({apiOptions}){\r\n    this._baseUrl = apiOptions.baseUrl;\r\n    this._headers = apiOptions.headers;\r\n  }\r\n  \r\n  _checkRes(res){\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  } \r\n\r\n  getMyInfo(){\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers\r\n    })\r\n      .then((res) => this._checkRes(res)) \r\n  } \r\n\r\n  patchMyInfo(name, about){\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about\r\n      })\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n\r\n  patchMyAvatar(avatar){\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n\r\n  postCard(title, url){\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: title,\r\n        link: url\r\n      })\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n\r\n  deleteCard(id){\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n\r\n  putLike(id){\r\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n\r\n  deleteLike(id){\r\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n}\r\n\r\nconst api = new Api({apiOptions});\r\n\r\nexport default api;\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from '../popup_with_form/PopupWithForm';\r\n\r\nfunction AddPlacePopup(props){\r\n  const [title, setTitle] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleTitleChange(e){\r\n    setTitle(e.target.value);\r\n  }\r\n    \r\n  function handleLinkChange(e){\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e){\r\n    e.preventDefault();\r\n    props.onAddPlace({title, link});\r\n  }\r\n\r\n\r\n\r\n  return(\r\n    <PopupWithForm name=\"place\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} >\r\n        <label className=\"popup__field\">\r\n          <input \r\n          type=\"text\" \r\n          className=\"popup__input\" \r\n          placeholder=\"Название\" \r\n          name=\"title\" \r\n          required \r\n          id=\"title-input\"\r\n          minLength=\"1\" \r\n          maxLength=\"30\" \r\n          value={title}\r\n          onChange={handleTitleChange}\r\n           />\r\n          <span className=\"popup__input-error\" id=\"title-input-error\"></span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input \r\n          type=\"url\" \r\n          className=\"popup__input\" \r\n          placeholder=\"Ссылка на картинку\" \r\n          name=\"url\" \r\n          required \r\n          id=\"url-input\"\r\n          value={link}\r\n          onChange={handleLinkChange} \r\n          />\r\n          <span className=\"popup__input-error\" id=\"url-input-error\"></span>\r\n        </label>\r\n        <button className=\"popup__button-save\" type=\"submit\">Создать</button>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport React from 'react';\r\nimport Header from '../components/header/Header';\r\nimport Main from '../components/main/Main';\r\nimport Footer from '../components/footer/Footer';\r\nimport PopupWithForm from './popup_with_form/PopupWithForm';\r\nimport EditProfilePopup from './edit_profile_popup/EditProfilePopup';\r\nimport EditAvatarPopup from './edit_avatar_popup/EditAvatarPopup';\r\nimport ImagePopup from '../components/image_popup/ImagePopup';\r\nimport api from '../utils/api';\r\nimport AddPlacePopup from './add_place_popup/AddPlacePopup';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [isCardPopupOpen, setCardPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({name: 'Фотография', link: '../images/no-image.jpg'});\r\n  const [currentUser, setCurrentUser] = React.useState({name: 'Имя', about: 'Профессия', avatar: '../images/no-image.jpg'});\r\n  const [cards, setCards] = React.useState([]);\r\n  React.useEffect(() => {\r\n    api.getInitialCards().then((data) =>{\r\n      setCards(data.map((item) => ({\r\n        key: item._id,\r\n        id: item._id,\r\n        name: item.name,\r\n        link: item.link,\r\n        likes: item.likes,\r\n        owner: item.owner,\r\n        likeCount: item.likes.length\r\n      })));\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }, []);\r\n\r\n\r\n  function changeLike(newCard, card){\r\n    const newCards = cards.map((c) => {\r\n      if(c.id === card.id) {\r\n        return {\r\n          key: newCard._id,\r\n          id: newCard._id,\r\n          name: newCard.name,\r\n          link: newCard.link,\r\n          likes: newCard.likes,\r\n          owner: newCard.owner,\r\n          likeCount: newCard.likes.length\r\n        };\r\n      } else{ \r\n        return c;\r\n      }\r\n    });\r\n    setCards(newCards);\r\n  }\r\n\r\n  function handleCardLike({card}) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser.id);\r\n    if (isLiked){\r\n      api.deleteLike(card.id).then((newCard) => {\r\n        changeLike(newCard, card);\r\n      })\r\n      .catch((err) =>{\r\n        console.log(err);\r\n      });\r\n    } else{\r\n      api.putLike(card.id).then((newCard) => {\r\n        changeLike(newCard, card);\r\n      })\r\n      .catch((err) =>{\r\n        console.log(err);\r\n      });\r\n    }\r\n  } \r\n\r\n  function handleDeleteCard(id){\r\n    api.deleteCard(id).then((data) => {\r\n      console.log(data);\r\n      const cardsFilter = cards.filter((item) => {\r\n        return id !== item.id;\r\n      });\r\n      setCards(cardsFilter);\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api.getMyInfo().then((data) => {\r\n      setCurrentUser({id: data._id, name: data.name, about: data.about, avatar: data.avatar});\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }, [])\r\n  \r\n  \r\n  function handleEditAvatarClick(){\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick(){\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick(){\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups(){\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setCardPopupOpen(false);\r\n  }\r\n\r\n  function handleCardClick({name, link}){\r\n    setCardPopupOpen(true);\r\n    setSelectedCard({name: name, link: link});\r\n  }\r\n\r\n  function handleUpdateUser({name, about}){\r\n    api.patchMyInfo(name, about).then((res) => {\r\n      setCurrentUser({id: res._id, name: res.name, about: res.about, avatar: res.avatar});\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleUpdateAvatar({avatar}){\r\n    api.patchMyAvatar(avatar).then((res) => {\r\n      setCurrentUser({id: res._id, name: res.name, about: res.about, avatar: res.avatar});\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleAddPlaceSubmit({title, link}){\r\n    api.postCard(title, link).then((res) => {\r\n      const newCard = {\r\n        key: res._id,\r\n        id: res._id,\r\n        name: res.name,\r\n        link: res.link,\r\n        likes: res.likes,\r\n        owner: res.owner,\r\n        likeCount: res.likes.length\r\n      }\r\n      setCards([newCard, ...cards])\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n    <div className=\"page\">\r\n      <Header />\r\n      <Main \r\n      onEditProfile={handleEditProfileClick} \r\n      onAddPlace={handleAddPlaceClick}\r\n      onEditAvatar={handleEditAvatarClick}\r\n      handleCardClick={handleCardClick}\r\n      cards={cards}\r\n      onCardLike={handleCardLike}\r\n      onCardDelete={handleDeleteCard}\r\n      />\r\n      <Footer />\r\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\r\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\r\n      <PopupWithForm name=\"confirm\" title=\"Вы уверены?\" isOpen={false} onClose={closeAllPopups}>\r\n        <button className=\"popup__button-save\" type=\"submit\">Да</button>\r\n      </PopupWithForm>\r\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\r\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} isOpen={isCardPopupOpen} />\r\n    </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}